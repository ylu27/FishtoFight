% Figure_timeplot

clear variables
clc
close all

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 0. IMPORT DATA
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

data_raw = readmatrix('time_series_1950_2015.csv'); 

year   = data_raw(:,1);
nid    = data_raw(:,2); % non-industrial catch (000 tonnes)
id     = data_raw(:,3); % industrial catch
total  = data_raw(:,4); % total catch

% detrended series
nid2   = data_raw(:,5);
id2    = data_raw(:,6);
total2 = data_raw(:,7);
clear data_raw

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 1. PLOT
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

figure
subplot(1,2,1)
plot(year,id,...
    'LineWidth',2,...
    'Color',[0,0.45,0.74])
hold all
plot(year,nid,...
    'LineWidth',2,...
    'Color',[0.85,0.33,0.10])
plot(year,total,...
    'LineWidth',2,...
    'Color',[0.93,0.69,0.13])

ylabel('Catch (000 tonnes)',...
    'Fontname', 'times new roman','FontSize',12)
xlim([1950,2015])
ylim([0 7600])
set(gca,'XTick',[1950 1960 1970 1980 1990 2000 2010],...
        'YTick',[0 1000 2000 3000 4000 5000 6000 7000],...
        'Fontname', 'times new roman','FontSize',12,...
        'box','off')
h = legend('Industrial catch',...
           'Non-industrial catch',...
           'Total catch');
set(h,'Interpreter','none',...
    'Fontname', 'times new roman','FontSize',12)


subplot(1,2,2)
plot(year,id2,...
    'LineWidth',2,...
    'Color',[0,0.45,0.74])
hold all
plot(year,nid2,...
    'LineWidth',2,...
    'Color',[0.85,0.33,0.10])
plot(year,total2,...
    'LineWidth',2,...
    'Color',[0.93,0.69,0.13])

ylabel('Detrended catch (000 tonnes)',...
    'Fontname', 'times new roman','FontSize',12)
xlim([1950,2015])
ylim([-1100 1100])
set(gca,'XTick',[1950 1960 1970 1980 1990 2000 2010],...
        'YTick',[-1000 -800 -600 -400 -200 0 200 400 600 800 1000],...
        'Fontname', 'times new roman','FontSize',12,...
        'box','off')